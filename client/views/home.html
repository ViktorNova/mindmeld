<template name="home">
  {{> header}}
  <div class="container-fluid">
    <div id="main">
      {{> breadcrumbHeader}}
      <div class="row-fluid">
        {{> notifications}}
        {{> homeBody}}
      </div>
    </div>
  </div>
</template>

<template name="homeBody">
  <div class="span9">
    <div class="row-fluid">
      <h1>Home</h1>
      <p><button id="createTeam" class="btn"><i class="icon-plus"></i> Create Team</button></p>
      <div class="row-fluid">
        <div class="span6">
          <table class="table table-striped not-started">
            <thead>
              <tr>
                <th>Issues Not Started</th>
                <th>Created </th>
              </tr>
            </thead>
            {{#unless allIssuesNotStartedCount}}
            <tr>
              <td colspan="2"><div class="text-center"><em>No Issues</em></div></td>
            </tr>
            {{/unless}}
            {{#each allIssuesNotStarted}}
              {{> issueInTable}}
            {{/each}}
            <tr id="not-started-footer">
              <td colspan="2"><div class="text-center"><a href="" id="more-not-started">More</a></div></td>
            </tr>
          </table>
          <table class="table table-striped in-progress">
            <thead>
              <tr>
                <th>Issues In Progress</th>
                <th>Started</th>
              </tr>
            </thead>
            {{#unless allIssuesInProgressCount}}
            <tr>
              <td colspan="2"><div class="text-center"><em>No Issues</em></div></td>
            </tr>
            {{/unless}}
            {{#each allIssuesInProgress}}
              {{> issueInTable}}
            {{/each}}
            <tr id="in-progress-footer">
              <td colspan="2"><div class="text-center"><a href="" id="more-in-progress">More</a></div></td>
            </tr>
            </table>
            <table class="table table-striped completed">
            <thead>
              <tr>
                <th>Issues Completed</th>
                <th>Completed</th>
              </tr>
            </thead>
            {{#unless allIssuesCompletedCount}}
            <tr>
              <td colspan="2"><div class="text-center"><em>No Issues</em></div></td>
            </tr>
            {{/unless}}
            {{#each allIssuesCompleted}}
              {{> issueInTable}}
            {{/each}}
            <tr id="completed-footer">
              <td colspan="2"><div class="text-center"><a href="" id="more-completed">More</a></div></td>
            </tr>
          </table>
          <table class="table table-striped cancelled">
            <thead>
              <tr>
                <th>Issues Cancelled</th>
                <th>Cancelled</th>
              </tr>
            </thead>
            {{#unless allIssuesCancelledCount}}
            <tr>
              <td colspan="2"><div class="text-center"><em>No Issues</em></div></td>
            </tr>
            {{/unless}}
            {{#each allIssuesCancelled}}
              {{> issueInTable}}
            {{/each}}
            <tr id="cancelled-footer">
              <td colspan="2"><div class="text-center"><a href="" id="more-cancelled">More</a></div></td>
            </tr>
          </table>
        </div>
        <div class="span6">
          {{> myTeams}}
          {{> myProjects}}
          {{> myFeatures}}
          {{> myIssues}}
        </div>
      </div>
    </div>
  </div>
</template>

<template name="issueInTable">
  <tr class="issue-with-status">
    <td>
      <a href="{{issuePath teamCode projectCode featureCode code}}">{{teamName}} : {{projectName}} : {{featureName}} : {{name}}</a></td>
    <td>{{momentStatusChanged}}</td>
  </tr>
</template>
