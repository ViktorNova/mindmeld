<template name="createFeature">
  <div class="container-fluid">
    <div id="main">
      {{> breadcrumbHeader}}
      {{> featureLinks}}
      {{> errorNotification}}
      <div class="row-fluid">
        {{> notifications}}
        {{> featureForm}}
      </div>
    </div>
  </div>
</template>

<template name="editFeature">
  <div class="container-fluid">
    <div id="main">
      {{> breadcrumbHeader}}
      {{> issueLinks}}
      {{> errorNotification}}
      <div class="row-fluid">
        {{> notifications}}
        {{> featureForm}}
      </div>
    </div>
  </div>
</template>

<template name="featureForm">
  {{#if notifications.count}}
  <div class="span9">
  {{else}}
  <div class="span12">
  {{/if}}
    <div class="row-fluid">
      {{> featureButtons}}
        <form id="{{action}}Feature" data-validate="parsely">
          {{#with currentFeature}}
          <fieldset>
            <input type="hidden" name="teamId" value="{{teamId}}" />
            <input type="hidden" name="projectId" value="{{projectId}}" />
            <input type="hidden" name="_id" value="{{_id}}" />
            <div class="row-fluid">
              <h1 class="pull-left"><i class="icon-certificate"></i></h1>
              <input name="name" id="name-input" class="issue-name-input pull-left span8 required" type="text" maxlength="50" value="{{name}}" data-trigger="change" data-required="true" data-minlength="3" data-maxlength="50" autofocus tabindex="1" placeholder="Feature Name (max 50 chars)" />
            </div>
            <div class="row-fluid">
              <div class="select2-label span1">Owner&nbsp;&nbsp;&nbsp;</div>
              <select name="ownedByUserId" id="ownedByUserId" tabindex="2">
                {{#each ../teamMembers}}
                  <option value="{{_id}}">{{username}}</option>
                {{/each}}
              </select>
            </div>
            <div class="row-fluid">
              <textarea id="detail" name="detail" class="span12" rows="12" tabindex="3" placeholder="Feature Description (max 1000 chars) - Github flavored markdown supported" data-trigger="change" data-required="true" data-minlength="3" data-maxlength="1000">{{detail}}</textarea>
            </div>
          </fieldset>
          {{/with}}
          <div>
            <button type="button" id="{{action}}" class="btn btn-primary" tabindex="4"><i class="{{iconify action}} icon-large"></i> {{capitalize action}}</button>
            <button type="button" id="cancel-{{action}}" class="btn btn-warning" tabindex="5"><i class="icon-remove icon-large"></i> Cancel</button>
          </div>
        </form>
    </div>
  </div>
</template>
